@import url(../svelte-llm/style/style.css);
@import url(../svelte-obsidian/style/style.css);
@import url(./animate.css);
@import url(./obsidian.css);

.talk-sim.view-content
{
    display: flex;
    flex-direction: column;
    padding: 0 1em 1em 1em;
    gap: 1em;
}

.talk-sim
{
    dim 
    {
        display: inline-block; 
        filter: brightness(0.5);
    }

    .display-contents
    {
        display: contents;
    }

    .color-text-accent
    {
        color:var(--text-accent)
    }

    .main-menu
    {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        
        background-color: var(--background-secondary);
        border-bottom: 2px solid var(--divider-color);

        .main-menu-left,
        .main-menu-right
        {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .main-menu-right
        {
            margin-right: 0.25em;

            .talk-autoplay
            {
                margin-right: 0.75em;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
            }
        }

        .tappable
        {
            padding: 0.5em 1em;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 0.5em;
        }

        .tappable:hover,
        .tappable.is-active
        {
            background-color: var(--background-modifier-hover);
        }

        .talk-start
        {
            /* position: absolute;
            top: 0;
            bottom: 0;
            right:  0;
            left: 0; */

            margin-left: 1em;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;

            .warning
            {
                font-size: 1.1em;
                color: var(--color-yellow);
            }
        }
    }

    .talk-prompts,
    .talk-messages
    {
        flex: 1;
    }

    .talk-prompts
    {
        display: flex;
        gap: 1em;

        h4 
        { 
            margin-top: 0; 
            margin-bottom: 0.01em; 
        }
        
        .prompt-shared,
        .prompt-model,
        .prompt-model1,
        .prompt-model2
        {
            flex: 1;
            display: flex;
            flex-direction: column;

            textarea
            {
                flex: 1;
                resize: none;
            }
        }

        .prompt-model-head
        {
            display: flex;
            align-items: center;
            flex-direction: row;
            justify-content: space-between;
        }

        .prompt-model-head-right
        {
            display: flex;
            align-items: center;
            flex-direction: row;
            justify-content: right;
        }
    }

    .talk-messages
    {
        display: flex;
        flex-direction: row;
        gap: 1em;
        overflow: hidden;

        .talk-message-list
        {
            display: flex;
            flex: 1;
            flex-direction: column;
            overflow-y: auto;
            gap: 1em;

            .talk-message,
            .talk-message-next
            {
                max-width: 40em;
            }

            .talk-message
            {
                border: 1px solid var(--divider-color);
                border-radius: var(--radius-s);
                background-color: var(--background-primary-alt);
                
                background: var(--background-primary-alt);
                background: linear-gradient(0deg, var(--background-secondary), var(--background-primary-alt));

                .talk-message-head
                {
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;

                    border-bottom: 1px solid var(--divider-color);
                    background-color: var(--background-secondary-alt);
                    padding: 0.25em 0.5em;

                    .talk-message-role
                    {
                        display: flex;
                        flex-direction: row;
                        align-items: center;
                        gap: 0.4em;

                        .talk-message-role-number
                        {
                            font-size:0.6em;
                        }
                    }

                    .talk-message-buttons
                    {
                        display: flex;
                        flex-direction: row;
                        align-items: end;

                        .talk-message-variants
                        {
                            display: flex;
                            flex-direction: row;
                            align-items: center;
                        }
                    }
                }

                .talk-message-body
                {
                    padding: 0 1em;
                    user-select: text;

                    pre
                    {
                        color: var(--code-normal);
                        border: 1px solid var(--divider-color);
                        border-radius: var(--radius-s);
                        background-color: var(--background-primary);
                        padding: 0.2em 0.5em;

                        code
                        {
                            white-space: pre-wrap;
                            overflow-wrap: break-word;
                        }
                    }
                }
            }

            .talk-message-next
            {
                display: flex;
                flex-direction: row;
                justify-content: center; 

                button
                {
                    display: flex;
                    flex-direction: row;
                    justify-content: center; 
                    align-items: center;
                    gap: 0.5em;
                }
            }
        }
    }
}